<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="intro">
        <h1>The Abandonded Warrior</h1>
        
        <p>Starts off with Yashiro's family being chased by samurai. Family gets away and stay in an abandoned house. The samurai eventually regroup and burn down the house. His family escapes except Yahsiro does not. Then the head leader of the samurai named Donabe finds Yashiro. Then once the house is burned down to ash Donabe has three choices. To use his bad Intentions, Leave him to die, Or Raise him as his own</p>

    </div>

    <div id="buttons">

    </div>
    <script>

    let storyContainer = document.getElementById("story");

    let buttonContainer = document.getElementById("buttons");

    let literature = ["intro"]

    const story = {
        intro : {
            text: "Story",
            choices : [
                ["Bad Intentions", "choice1"],
                ["Leave To Die", "choice2"],
                ["Raise Baby As Own", "choice3"]
                    ]
        }, 
        choice1 :{ 
            text : "Donabe takes Yashiro and raises him as a slave not his own son. Donabe and the samurai do not treat him with respect. Then Yashiro grows old enough to rebell against the samurai. He can either go against donabe and the samurai or give in and become a slave for the rest of his life.",
            choices : [
                ["Give in and become a slave for the rest of his life","choicegivein"]
                ["Go against donabe and his gang","rebell"]
            ]
        }

    }

    choices = ["Bad Intentions", "Leave To Die", "Raise Baby As Own"];

    for(let choice of choices){
        makeButton(choice)
    }

    function makeButton(btnText){
        let button = document.createElement("button");

        button.innerHTML = btnText;

        buttonContainer.appendChild(button);

        button.addEventListener("click", function() {

        literature.push(choice);
        storyShow();
        
        });
    }

        function storyBuild(text) {
            let storyItem = document.createElement
            ("p");

            storyItem.innerText = text;


            storyContainer.appendChild(storyItem);
        }

    function storyShow(){
        let currentPage = literature[literature.length - 1];

        storyContainer.innerHTML = "";
        buttonContainer.innerHTML = "";

        for (let page of literature){
        storyBuild(story[page].text);
    }
        for(let choice of story[currentPage].choices){
        makeButton(choices[0], choice[1])
        } 
    }

    </script>
</body>
</html>